<% include partials/cabecalho %>
<h1 align="center">{{ titulo }}</h1>
<div class="container">
    <table border="1" class="table table-bordered table-hover">
    <thead class="thead-dark">
        <tr>
            <th>Nome</th>
            <th>Descrição</th>
            <th>Preço</th>
        </tr>
    </thead>
    <tbody>
        <tr v-for="pizza in pizzas">
            <td>{{ pizza.nome }}</td>
            <td>{{ pizza.descricao }}</td>
            <td>R$ {{ pizza.preco.$numberDecimal }}</td>            
        </tr>
    </tbody>
</table>
</div>

<script>
	var app = new Vue({
	  el: '#pizzaria',
	  data: {
          pizzas: [],
		  titulo: 'Cardápio de Pizzas',
          usuario: '',
          random: Math.floor(Math.random() * 10)
	  },
	  methods:{
	  },
	  mounted:() => {
	  	axios.get('/usuario')
	    .then((response) => app.usuario = response.data)
        .catch((error) => console.log(error));

        axios.get('/pizzas')       
		.then((response) => app.pizzas = response.data)
		.catch((error) => console.log(error));
	 }
  })
 </script>

<% include partials/rodape %>
